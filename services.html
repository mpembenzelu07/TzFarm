<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Export Services | FAMM ATL Company Ltd</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <!-- Map Libraries -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <style>
        /* Enhanced CSS for services page */
        :root {
            --primary: #2e7d32;
            --primary-dark: #1b5e20;
            --primary-light: #4caf50;
            --secondary: #ff9800;
            --secondary-dark: #f57c00;
            --text-dark: #333333;
            --text-light: #666666;
            --bg-light: #ffffff;
            --bg-light-secondary: #f9f9f9;
            --shadow: rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Open Sans', sans-serif;
            color: var(--text-dark);
            background-color: #f5f7fa;
            line-height: 1.6;
        }

        h1, h2, h3, h4 {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            line-height: 1.3;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Language Switcher */
        .language-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1001;
            background: white;
            border-radius: 50px;
            padding: 5px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .lang-btn {
            background: transparent;
            border: none;
            padding: 8px 15px;
            cursor: pointer;
            border-radius: 50px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .lang-btn:hover {
            background: var(--primary-light);
            color: white;
        }

        /* Header */
        header {
            background: white;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
            color: var(--primary);
        }

        .logo i {
            font-size: 2.5rem;
            margin-right: 10px;
        }

        .logo-text {
            font-family: 'Poppins', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .logo-text span {
            color: var(--secondary);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        nav a {
            text-decoration: none;
            color: var(--text-dark);
            font-weight: 500;
            padding: 8px 0;
            position: relative;
            transition: color 0.3s;
        }

        nav a:hover, nav a.active {
            color: var(--primary);
        }

        nav a.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--primary);
            border-radius: 2px;
        }

        /* Page Header */
        .page-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 100px 0 60px;
            text-align: center;
            margin-bottom: 60px;
        }

        .page-header h1 {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .breadcrumb {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            font-size: 1.1rem;
        }

        .breadcrumb a {
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: color 0.3s;
        }

        .breadcrumb a:hover {
            color: white;
        }

        .breadcrumb span {
            color: rgba(255,255,255,0.6);
        }

        /* Section Styling */
        .section {
            padding: 80px 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 50px;
        }

        .section-title h2 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--primary-dark);
        }

        .section-title p {
            color: var(--text-light);
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto;
        }

        /* Info Cards */
        .info-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
        }

        .info-card h3 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .info-card p {
            color: var(--text-light);
            font-size: 1.1rem;
        }

        /* Interactive Shipping Map */
        .shipping-map-container {
            height: 500px;
            border-radius: 20px;
            margin: 40px 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        #shippingMap {
            width: 100%;
            height: 100%;
            border-radius: 20px;
        }

        .map-controls {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            z-index: 1000;
            min-width: 200px;
        }

        .route-selector {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }

        .route-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .route-btn:hover {
            background: var(--primary-dark);
            transform: translateX(-5px);
        }

        .route-btn.active {
            background: var(--secondary);
        }

        /* AI Documentation Wizard */
        .ai-document-wizard {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 50px;
            border-radius: 25px;
            margin: 80px 0;
            position: relative;
            overflow: hidden;
        }

        .ai-document-wizard::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: float 20s linear infinite;
            opacity: 0.3;
        }

        @keyframes float {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .wizard-steps {
            display: flex;
            justify-content: space-between;
            margin: 50px 0;
            position: relative;
            padding: 0 20px;
        }

        .wizard-step {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            position: relative;
            z-index: 2;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            border: 3px solid transparent;
        }

        .wizard-step:hover {
            transform: scale(1.1);
            background: rgba(255,255,255,0.3);
        }

        .wizard-step.active {
            background: var(--secondary);
            transform: scale(1.2);
            box-shadow: 0 10px 25px rgba(255,152,0,0.4);
            border-color: white;
        }

        .wizard-step.completed {
            background: #4caf50;
            border-color: #4caf50;
        }

        .wizard-progress {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 6px;
            background: rgba(255,255,255,0.2);
            transform: translateY(-50%);
            border-radius: 3px;
            overflow: hidden;
        }

        .wizard-progress-bar {
            height: 100%;
            background: var(--secondary);
            width: 0%;
            transition: width 0.8s cubic-bezier(0.65, 0, 0.35, 1);
            border-radius: 3px;
        }

        .wizard-content {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            padding: 40px;
            border-radius: 20px;
            margin-top: 40px;
            min-height: 350px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        /* Port Congestion Heat Map */
        .congestion-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            padding: 30px 0;
        }

        .port-cell {
            background: white;
            padding: 25px;
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            border: 2px solid transparent;
        }

        .port-cell:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .port-cell::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            border-radius: 5px 5px 0 0;
        }

        .port-cell.low-congestion::before {
            background: linear-gradient(90deg, #4caf50, #8bc34a);
        }

        .port-cell.medium-congestion::before {
            background: linear-gradient(90deg, #ff9800, #ffc107);
        }

        .port-cell.high-congestion::before {
            background: linear-gradient(90deg, #f44336, #ff5252);
        }

        .congestion-level {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .congestion-indicator {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: inline-block;
        }

        /* Carbon Footprint Calculator */
        .carbon-calculator {
            background: linear-gradient(135deg, #00b09b, #96c93d);
            color: white;
            padding: 50px;
            border-radius: 25px;
            margin: 80px 0;
            position: relative;
            overflow: hidden;
        }

        .carbon-calculator::after {
            content: 'ðŸŒ¿';
            position: absolute;
            top: -100px;
            right: -100px;
            font-size: 400px;
            opacity: 0.1;
            transform: rotate(45deg);
        }

        .calculator-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .calc-input-group {
            background: rgba(255,255,255,0.15);
            padding: 25px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .calc-input-group label {
            display: block;
            margin-bottom: 15px;
            font-weight: 600;
            font-size: 1.1rem;
        }

        input[type="range"] {
            width: 100%;
            height: 10px;
            -webkit-appearance: none;
            background: rgba(255,255,255,0.3);
            border-radius: 5px;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 25px;
            height: 25px;
            background: white;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        select {
            background: rgba(255,255,255,0.9);
            border: none;
            padding: 15px;
            border-radius: 10px;
            width: 100%;
            font-size: 1rem;
            color: var(--text-dark);
        }

        .carbon-visualization {
            height: 250px;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            gap: 40px;
            margin: 50px 0;
            padding: 0 20px;
        }

        .carbon-bar {
            width: 60px;
            background: linear-gradient(to top, #ff9800, #ffc107);
            border-radius: 10px 10px 0 0;
            position: relative;
            transition: height 1s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 -5px 20px rgba(255,152,0,0.3);
        }

        .carbon-bar::after {
            content: attr(data-co2);
            position: absolute;
            bottom: -40px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1rem;
            font-weight: 600;
            white-space: nowrap;
        }

        .carbon-bar::before {
            content: attr(data-mode);
            position: absolute;
            top: -35px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.9rem;
            font-weight: 500;
        }

        /* Smart Logistics Cost Estimator */
        .logistics-estimator {
            background: linear-gradient(135deg, #1a472a, #2e7d32);
            color: white;
            padding: 50px;
            border-radius: 25px;
            margin: 80px 0;
            position: relative;
            overflow: hidden;
        }

        .estimator-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 40px;
            margin: 50px 0;
        }

        .estimator-controls > div {
            background: rgba(255,255,255,0.1);
            padding: 25px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .container-btn {
            background: #666;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            flex: 1;
        }

        .container-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .container-btn.active {
            background: var(--secondary);
            box-shadow: 0 5px 15px rgba(255,152,0,0.3);
        }

        .estimator-result {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            padding: 40px;
            border-radius: 20px;
            margin-top: 40px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        /* Document Processing Timeline */
        .document-timeline {
            background: linear-gradient(135deg, #8e2de2, #4a00e0);
            color: white;
            padding: 50px;
            border-radius: 25px;
            margin: 80px 0;
            position: relative;
            overflow: hidden;
        }

        .timeline-visual {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 60px 0;
            position: relative;
            padding: 0 20px;
        }

        .timeline-visual::before {
            content: '';
            position: absolute;
            top: 25px;
            left: 10%;
            right: 10%;
            height: 4px;
            background: rgba(255,255,255,0.3);
            border-radius: 2px;
        }

        .timeline-step {
            text-align: center;
            position: relative;
            z-index: 2;
            flex: 1;
        }

        .step-circle {
            width: 60px;
            height: 60px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            border: 3px solid transparent;
        }

        .step-circle.active {
            background: var(--secondary);
            transform: scale(1.3);
            box-shadow: 0 10px 25px rgba(255,152,0,0.4);
            border-color: white;
        }

        .step-circle.completed {
            background: #4caf50;
            border-color: #4caf50;
        }

        .timeline-step > div:last-child {
            font-weight: 600;
            margin-top: 10px;
            font-size: 1.1rem;
        }

        /* Button Styles */
        button {
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            transition: all 0.3s;
            cursor: pointer;
        }

        button:active {
            transform: scale(0.98);
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .header-container {
                flex-direction: column;
                gap: 20px;
            }

            nav ul {
                flex-wrap: wrap;
                justify-content: center;
                gap: 20px;
            }

            .page-header h1 {
                font-size: 2.5rem;
            }

            .section-title h2 {
                font-size: 2rem;
            }

            .shipping-map-container {
                height: 400px;
            }

            .map-controls {
                position: relative;
                top: auto;
                right: auto;
                margin-top: 20px;
            }

            .timeline-visual {
                flex-direction: column;
                gap: 40px;
            }

            .timeline-visual::before {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .page-header {
                padding: 80px 0 40px;
            }

            .section {
                padding: 60px 0;
            }

            .ai-document-wizard,
            .carbon-calculator,
            .logistics-estimator,
            .document-timeline {
                padding: 30px;
            }

            .wizard-steps {
                flex-wrap: wrap;
                justify-content: center;
                gap: 20px;
            }

            .carbon-visualization {
                flex-direction: column;
                height: auto;
                align-items: center;
                gap: 30px;
            }

            .carbon-bar {
                width: 80%;
                height: 50px !important;
                border-radius: 10px;
            }

            .carbon-bar::before {
                top: -30px;
            }

            .carbon-bar::after {
                bottom: -30px;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section {
            animation: fadeIn 0.8s ease-out;
        }
    </style>
</head>
<body>
    <!-- Language Switcher -->
    <div class="language-switcher">
        <button class="lang-btn" onclick="changeLanguage('en')">EN</button>
        <button class="lang-btn" onclick="changeLanguage('sw')">SW</button>
    </div>

    <!-- Header -->
    <header>
        <div class="container header-container">
            <a href="index.html" class="logo">
                <i class="fas fa-seedling"></i>
                <div class="logo-text">FAMM<span>ATL</span></div>
            </a>
            
            <nav>
                <ul>
                    <li><a href="index.html" data-lang="home">Home</a></li>
                    <li><a href="about.html" data-lang="about">About Us</a></li>
                    <li><a href="products.html" data-lang="products">Products</a></li>
                    <li><a href="services.html" class="active" data-lang="services">Export Services</a></li>
                    <li><a href="certifications.html" data-lang="certifications">Certifications</a></li>
                    <li><a href="contact.html" data-lang="contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1 data-lang="services_title">Comprehensive Export Services</h1>
            <div class="breadcrumb">
                <a href="index.html" data-lang="home">Home</a>
                <span>/</span>
                <span data-lang="services">Export Services</span>
            </div>
        </div>
    </section>

    <!-- Interactive Shipping Map -->
    <section class="section">
        <div class="container">
            <div class="section-title">
                <h2 data-lang="shipping_map_title">Global Shipping Route Optimizer</h2>
                <p data-lang="shipping_map_desc">Visualize optimal shipping routes with real-time vessel tracking</p>
            </div>
            
            <div class="shipping-map-container">
                <div id="shippingMap"></div>
                
                <div class="map-controls">
                    <div class="route-selector">
                        <button class="route-btn active" onclick="showRoute('dar_to_rotterdam')" data-lang="route_europe">
                            <i class="fas fa-ship"></i> <span>Europe</span>
                        </button>
                        <button class="route-btn" onclick="showRoute('dar_to_shanghai')" data-lang="route_asia">
                            <i class="fas fa-ship"></i> <span>Asia</span>
                        </button>
                        <button class="route-btn" onclick="showRoute('dar_to_dubai')" data-lang="route_middle_east">
                            <i class="fas fa-ship"></i> <span>Middle East</span>
                        </button>
                    </div>
                    
                    <div style="color: #666; font-size: 0.9rem;">
                        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                            <div style="width: 12px; height: 12px; background: #4caf50; border-radius: 50%;"></div>
                            <span data-lang="low_congestion">Low Congestion</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                            <div style="width: 12px; height: 12px; background: #ff9800; border-radius: 50%;"></div>
                            <span data-lang="medium_congestion">Medium Congestion</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <div style="width: 12px; height: 12px; background: #f44336; border-radius: 50%;"></div>
                            <span data-lang="high_congestion">High Congestion</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px; margin-top: 40px;">
                <div class="info-card">
                    <h3><i class="fas fa-route"></i> <span data-lang="optimal_route">Optimal Route</span></h3>
                    <p id="routeInfo" data-lang="route_default">Select a route to see details</p>
                </div>
                <div class="info-card">
                    <h3><i class="fas fa-clock"></i> <span data-lang="transit_time">Transit Time</span></h3>
                    <p id="transitTime">-</p>
                </div>
                <div class="info-card">
                    <h3><i class="fas fa-money-bill-wave"></i> <span data-lang="estimated_cost">Estimated Cost</span></h3>
                    <p id="estimatedCost">-</p>
                </div>
                <div class="info-card">
                    <h3><i class="fas fa-leaf"></i> <span data-lang="carbon_emission">Carbon Emission</span></h3>
                    <p id="carbonEmission">-</p>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Documentation Wizard -->
    <section class="section">
        <div class="container">
            <div class="ai-document-wizard">
                <div class="section-title" style="color: white;">
                    <h2 data-lang="ai_wizard_title">AI Export Documentation Wizard</h2>
                    <p data-lang="ai_wizard_desc">Let our AI guide you through export document preparation</p>
                </div>
                
                <div class="wizard-steps">
                    <div class="wizard-progress">
                        <div class="wizard-progress-bar" id="wizardProgress"></div>
                    </div>
                    
                    <div class="wizard-step active" onclick="goToStep(1)">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <div class="wizard-step" onclick="goToStep(2)">
                        <i class="fas fa-passport"></i>
                    </div>
                    <div class="wizard-step" onclick="goToStep(3)">
                        <i class="fas fa-certificate"></i>
                    </div>
                    <div class="wizard-step" onclick="goToStep(4)">
                        <i class="fas fa-truck"></i>
                    </div>
                    <div class="wizard-step" onclick="goToStep(5)">
                        <i class="fas fa-check-circle"></i>
                    </div>
                </div>
                
                <div class="wizard-content" id="wizardContent">
                    <!-- Content dynamically loaded by JavaScript -->
                </div>
            </div>
        </div>
    </section>

    <!-- Port Congestion Heat Map -->
    <section class="section">
        <div class="container">
            <div class="section-title">
                <h2 data-lang="port_congestion_title">Global Port Congestion Monitor</h2>
                <p data-lang="port_congestion_desc">Real-time congestion levels at major global ports</p>
            </div>
            
            <div class="congestion-grid" id="congestionGrid">
                <!-- Port cells generated by JavaScript -->
            </div>
            
            <div style="text-align: center; margin-top: 40px;">
                <p style="color: var(--text-light); margin-bottom: 20px;">
                    <span data-lang="last_updated">Last updated:</span> 
                    <span id="lastUpdated" style="font-weight: 600;">Just now</span>
                </p>
                <button onclick="refreshCongestionData()" style="background: var(--primary); color: white; border: none; padding: 14px 35px; border-radius: 50px; cursor: pointer; font-size: 1rem; display: inline-flex; align-items: center; gap: 10px;">
                    <i class="fas fa-sync-alt"></i>
                    <span data-lang="refresh_data">Refresh Data</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Carbon Footprint Calculator -->
    <section class="section">
        <div class="container">
            <div class="carbon-calculator">
                <div class="section-title" style="color: white;">
                    <h2 data-lang="carbon_calculator_title">Carbon Footprint Calculator</h2>
                    <p data-lang="carbon_calculator_desc">Calculate and offset your shipment's carbon emissions</p>
                </div>
                
                <div class="calculator-inputs">
                    <div class="calc-input-group">
                        <label data-lang="shipment_weight">Shipment Weight (MT)</label>
                        <input type="range" id="weightSlider" min="1" max="1000" value="100" style="width: 100%; margin: 15px 0;">
                        <div id="weightValue" style="text-align: center; font-size: 1.2rem; font-weight: 600;">100 MT</div>
                    </div>
                    
                    <div class="calc-input-group">
                        <label data-lang="distance">Distance (km)</label>
                        <input type="range" id="distanceSlider" min="1000" max="20000" value="8000" style="width: 100%; margin: 15px 0;">
                        <div id="distanceValue" style="text-align: center; font-size: 1.2rem; font-weight: 600;">8,000 km</div>
                    </div>
                    
                    <div class="calc-input-group">
                        <label data-lang="transport_mode">Transport Mode</label>
                        <select id="transportMode" style="width: 100%; padding: 12px; border-radius: 8px; margin-top: 10px; font-size: 1rem;">
                            <option value="ship" data-lang="sea_transport">Sea Transport</option>
                            <option value="air" data-lang="air_transport">Air Transport</option>
                            <option value="road" data-lang="road_transport">Road Transport</option>
                        </select>
                    </div>
                </div>
                
                <div style="text-align: center; margin: 40px 0;">
                    <button onclick="calculateCarbonFootprint()" style="background: white; color: #00b09b; border: none; padding: 16px 45px; border-radius: 50px; font-size: 1.1rem; cursor: pointer; display: inline-flex; align-items: center; gap: 12px; font-weight: 600; box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
                        <i class="fas fa-leaf"></i>
                        <span data-lang="calculate_carbon">Calculate Carbon Footprint</span>
                    </button>
                </div>
                
                <div class="carbon-visualization" id="carbonVisualization">
                    <!-- Carbon bars generated by JavaScript -->
                </div>
                
                <div style="text-align: center; margin-top: 40px;">
                    <div id="carbonResult" style="font-size: 1.5rem; margin-bottom: 25px; font-weight: 600; background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px; backdrop-filter: blur(10px);"></div>
                    <button onclick="offsetCarbon()" style="background: #ff9800; color: white; border: none; padding: 16px 45px; border-radius: 50px; cursor: pointer; font-size: 1.1rem; display: inline-flex; align-items: center; gap: 12px; font-weight: 600; box-shadow: 0 10px 30px rgba(255,152,0,0.3);">
                        <i class="fas fa-tree"></i>
                        <span data-lang="offset_carbon">Offset Carbon Emissions</span>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Smart Logistics Cost Estimator -->
    <section class="section">
        <div class="container">
            <div class="logistics-estimator">
                <div class="section-title" style="color: white;">
                    <h2 data-lang="logistics_estimator_title">Smart Logistics Cost Estimator</h2>
                    <p data-lang="logistics_estimator_desc">Get instant cost estimates for your logistics needs</p>
                </div>
                
                <div class="estimator-controls">
                    <div>
                        <label style="display: block; margin-bottom: 15px; font-weight: 600; font-size: 1.1rem;" data-lang="origin_port">Origin Port</label>
                        <select id="originPort" style="width: 100%; padding: 15px; border-radius: 10px; font-size: 1rem;">
                            <option value="dar" data-lang="port_dar">Dar es Salaam</option>
                            <option value="mombasa" data-lang="port_mombasa">Mombasa</option>
                            <option value="durban" data-lang="port_durban">Durban</option>
                        </select>
                    </div>
                    
                    <div>
                        <label style="display: block; margin-bottom: 15px; font-weight: 600; font-size: 1.1rem;" data-lang="destination_port">Destination Port</label>
                        <select id="destinationPort" style="width: 100%; padding: 15px; border-radius: 10px; font-size: 1rem;">
                            <option value="rotterdam" data-lang="port_rotterdam">Rotterdam</option>
                            <option value="shanghai" data-lang="port_shanghai">Shanghai</option>
                            <option value="dubai" data-lang="port_dubai">Dubai</option>
                            <option value="newyork" data-lang="port_newyork">New York</option>
                        </select>
                    </div>
                    
                    <div>
                        <label style="display: block; margin-bottom: 15px; font-weight: 600; font-size: 1.1rem;" data-lang="container_size">Container Size</label>
                        <div style="display: flex; gap: 15px; margin-top: 10px;">
                            <button class="container-btn active" onclick="selectContainer(20)" data-size="20">20ft</button>
                            <button class="container-btn" onclick="selectContainer(40)" data-size="40">40ft</button>
                            <button class="container-btn" onclick="selectContainer(40, 'hc')" data-size="40hc">40ft HC</button>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin: 40px 0;">
                    <button onclick="calculateLogisticsCost()" style="background: var(--secondary); color: white; border: none; padding: 16px 45px; border-radius: 50px; font-size: 1.1rem; cursor: pointer; display: inline-flex; align-items: center; gap: 12px; font-weight: 600; box-shadow: 0 10px 30px rgba(255,152,0,0.3);">
                        <i class="fas fa-calculator"></i>
                        <span data-lang="calculate_cost">Calculate Total Cost</span>
                    </button>
                </div>
                
                <div class="estimator-result" id="estimatorResult">
                    <!-- Results appear here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Document Processing Timeline -->
    <section class="section">
        <div class="container">
            <div class="document-timeline">
                <div class="section-title" style="color: white;">
                    <h2 data-lang="document_timeline_title">Document Processing Timeline</h2>
                    <p data-lang="document_timeline_desc">Track your export documents through our blockchain-verified process</p>
                </div>
                
                <div class="timeline-visual">
                    <div class="timeline-step">
                        <div class="step-circle active">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div data-lang="step_document">Document Preparation</div>
                    </div>
                    
                    <div class="timeline-step">
                        <div class="step-circle">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div data-lang="step_verification">Verification</div>
                    </div>
                    
                    <div class="timeline-step">
                        <div class="step-circle">
                            <i class="fas fa-stamp"></i>
                        </div>
                        <div data-lang="step_approval">Approval</div>
                    </div>
                    
                    <div class="timeline-step">
                        <div class="step-circle">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div data-lang="step_blockchain">Blockchain Recording</div>
                    </div>
                    
                    <div class="timeline-step">
                        <div class="step-circle">
                            <i class="fas fa-paper-plane"></i>
                        </div>
                        <div data-lang="step_delivery">Delivery</div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 50px;">
                    <div id="documentStatus" style="font-size: 1.3rem; margin-bottom: 25px; background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px; backdrop-filter: blur(10px);" data-lang="status_preparing">
                        Status: Document Preparation in Progress
                    </div>
                    
                    <button onclick="simulateDocumentProcess()" style="background: rgba(255,255,255,0.2); color: white; border: 2px solid white; padding: 14px 35px; border-radius: 50px; cursor: pointer; font-size: 1rem; display: inline-flex; align-items: center; gap: 10px; font-weight: 600;">
                        <i class="fas fa-play"></i>
                        <span data-lang="simulate_process">Simulate Document Process</span>
                    </button>
                    
                    <button onclick="verifyOnBlockchain()" style="background: var(--secondary); color: white; border: none; padding: 14px 35px; border-radius: 50px; cursor: pointer; font-size: 1rem; display: inline-flex; align-items: center; gap: 10px; font-weight: 600; margin-left: 15px; box-shadow: 0 10px 30px rgba(255,152,0,0.3);">
                        <i class="fas fa-link"></i>
                        <span data-lang="verify_blockchain">Verify on Blockchain</span>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer style="background: var(--primary-dark); color: white; padding: 80px 0 40px; margin-top: 80px;">
        <div class="container">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 40px; margin-bottom: 60px;">
                <div>
                    <div class="logo" style="margin-bottom: 25px;">
                        <i class="fas fa-seedling"></i>
                        <div class="logo-text" style="color: white;">FAMM<span style="color: var(--secondary);">ATL</span></div>
                    </div>
                    <p style="opacity: 0.9; line-height: 1.8;">
                        Leading agricultural export company from Tanzania, delivering quality products worldwide with sustainable practices.
                    </p>
                </div>
                
                <div>
                    <h3 style="color: white; margin-bottom: 25px; font-size: 1.3rem;">Quick Links</h3>
                    <ul style="list-style: none;">
                        <li style="margin-bottom: 15px;"><a href="index.html" style="color: rgba(255,255,255,0.9); text-decoration: none; transition: color 0.3s;">Home</a></li>
                        <li style="margin-bottom: 15px;"><a href="about.html" style="color: rgba(255,255,255,0.9); text-decoration: none; transition: color 0.3s;">About Us</a></li>
                        <li style="margin-bottom: 15px;"><a href="products.html" style="color: rgba(255,255,255,0.9); text-decoration: none; transition: color 0.3s;">Products</a></li>
                        <li style="margin-bottom: 15px;"><a href="services.html" style="color: var(--secondary); text-decoration: none; transition: color 0.3s;">Export Services</a></li>
                        <li style="margin-bottom: 15px;"><a href="contact.html" style="color: rgba(255,255,255,0.9); text-decoration: none; transition: color 0.3s;">Contact</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 style="color: white; margin-bottom: 25px; font-size: 1.3rem;">Contact Info</h3>
                    <div style="display: flex; align-items: flex-start; gap: 15px; margin-bottom: 20px;">
                        <i class="fas fa-map-marker-alt" style="color: var(--secondary); margin-top: 5px;"></i>
                        <div>
                            <div style="font-weight: 600; margin-bottom: 5px;">Head Office</div>
                            <div style="opacity: 0.9;">Dar es Salaam, Tanzania</div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: flex-start; gap: 15px; margin-bottom: 20px;">
                        <i class="fas fa-phone" style="color: var(--secondary); margin-top: 5px;"></i>
                        <div>
                            <div style="font-weight: 600; margin-bottom: 5px;">Phone</div>
                            <div style="opacity: 0.9;">+255 123 456 789</div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: flex-start; gap: 15px;">
                        <i class="fas fa-envelope" style="color: var(--secondary); margin-top: 5px;"></i>
                        <div>
                            <div style="font-weight: 600; margin-bottom: 5px;">Email</div>
                            <div style="opacity: 0.9;">info@famm-atl.co.tz</div>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h3 style="color: white; margin-bottom: 25px; font-size: 1.3rem;">Certifications</h3>
                    <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 25px;">
                        <div style="background: rgba(255,255,255,0.1); padding: 10px 15px; border-radius: 8px; font-size: 0.9rem;">ISO 9001</div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px 15px; border-radius: 8px; font-size: 0.9rem;">HACCP</div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px 15px; border-radius: 8px; font-size: 0.9rem;">Organic</div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px 15px; border-radius: 8px; font-size: 0.9rem;">Fair Trade</div>
                    </div>
                    <div style="display: flex; gap: 20px;">
                        <a href="#" style="color: white; font-size: 1.5rem;"><i class="fab fa-facebook"></i></a>
                        <a href="#" style="color: white; font-size: 1.5rem;"><i class="fab fa-twitter"></i></a>
                        <a href="#" style="color: white; font-size: 1.5rem;"><i class="fab fa-linkedin"></i></a>
                        <a href="#" style="color: white; font-size: 1.5rem;"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            
            <div style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 30px; text-align: center; opacity: 0.8;">
                <p>&copy; 2024 FAMM ATL Company Ltd. All rights reserved. | <a href="privacy.html" style="color: var(--secondary); text-decoration: none;">Privacy Policy</a> | <a href="terms.html" style="color: var(--secondary); text-decoration: none;">Terms of Service</a></p>
            </div>
        </div>
    </footer>

    <!-- JavaScript for Enhanced Features -->
    <script>
        // Multi-language support
        const translations = {
            en: {
                home: "Home",
                about: "About Us",
                products: "Products",
                services: "Export Services",
                certifications: "Certifications",
                contact: "Contact",
                services_title: "Comprehensive Export Services",
                shipping_map_title: "Global Shipping Route Optimizer",
                shipping_map_desc: "Visualize optimal shipping routes with real-time vessel tracking",
                route_europe: "Europe Route",
                route_asia: "Asia Route",
                route_middle_east: "Middle East Route",
                low_congestion: "Low Congestion",
                medium_congestion: "Medium Congestion",
                high_congestion: "High Congestion",
                optimal_route: "Optimal Route",
                route_default: "Select a route to see details",
                transit_time: "Transit Time",
                estimated_cost: "Estimated Cost",
                carbon_emission: "Carbon Emission",
                ai_wizard_title: "AI Export Documentation Wizard",
                ai_wizard_desc: "Let our AI guide you through export document preparation",
                step1_title: "Step 1: Product Information",
                step1_desc: "Enter details about the product you're exporting",
                next_step: "Next Step",
                previous: "Previous",
                port_congestion_title: "Global Port Congestion Monitor",
                port_congestion_desc: "Real-time congestion levels at major global ports",
                last_updated: "Last updated:",
                refresh_data: "Refresh Data",
                carbon_calculator_title: "Carbon Footprint Calculator",
                carbon_calculator_desc: "Calculate and offset your shipment's carbon emissions",
                shipment_weight: "Shipment Weight (MT)",
                distance: "Distance (km)",
                transport_mode: "Transport Mode",
                sea_transport: "Sea Transport",
                air_transport: "Air Transport",
                road_transport: "Road Transport",
                calculate_carbon: "Calculate Carbon Footprint",
                offset_carbon: "Offset Carbon Emissions",
                logistics_estimator_title: "Smart Logistics Cost Estimator",
                logistics_estimator_desc: "Get instant cost estimates for your logistics needs",
                origin_port: "Origin Port",
                destination_port: "Destination Port",
                container_size: "Container Size",
                port_dar: "Dar es Salaam",
                port_mombasa: "Mombasa",
                port_durban: "Durban",
                port_rotterdam: "Rotterdam",
                port_shanghai: "Shanghai",
                port_dubai: "Dubai",
                port_newyork: "New York",
                calculate_cost: "Calculate Total Cost",
                document_timeline_title: "Document Processing Timeline",
                document_timeline_desc: "Track your export documents through our blockchain-verified process",
                step_document: "Document Preparation",
                step_verification: "Verification",
                step_approval: "Approval",
                step_blockchain: "Blockchain Recording",
                step_delivery: "Delivery",
                status_preparing: "Status: Document Preparation in Progress",
                simulate_process: "Simulate Document Process",
                verify_blockchain: "Verify on Blockchain"
            },
            sw: {
                home: "Nyumbani",
                about: "Kuhusu Sisi",
                products: "Bidhaa",
                services: "Huduma za Usafirishaji",
                certifications: "Vyeti",
                contact: "Wasiliana",
                services_title: "Huduma Kamili za Usafirishaji",
                shipping_map_title: "Kirekebishi cha Njia za Usafirishaji Duniani",
                shipping_map_desc: "Tazama njia bora za usafirishaji na ufuatiliaji wa meli ya wakati halisi",
                route_europe: "Njia ya Ulaya",
                route_asia: "Njia ya Asia",
                route_middle_east: "Njia ya Mashariki ya Kati",
                low_congestion: "Msongamano Mdogo",
                medium_congestion: "Msongamano wa Kati",
                high_congestion: "Msongamano Mwingi",
                optimal_route: "Njia Bora",
                route_default: "Chagua njia kuona maelezo",
                transit_time: "Muda wa Usafiri",
                estimated_cost: "Gharama Iliyokadiriwa",
                carbon_emission: "Utoaji wa Kaboni",
                ai_wizard_title: "Mchawi wa Nyaraka za Usafirishaji wa AI",
                ai_wizard_desc: "Acha AI yetu kukuongoza kupitia utayarishaji wa nyaraka za usafirishaji",
                step1_title: "Hatua ya 1: Taarifa za Bidhaa",
                step1_desc: "Ingiza maelezo kuhusu bidhaa unayosafirisha",
                next_step: "Hatua Inayofuata",
                previous: "Nyuma",
                port_congestion_title: "Kifuatiliaji cha Msongamano wa Bandari Duniani",
                port_congestion_desc: "Viwango vya msongamano vya wakati halisi katika bandari kuu duniani",
                last_updated: "Ilisasishwa mwisho:",
                refresh_data: "Sasisha Data",
                carbon_calculator_title: "Kikokotoo cha Utoaji wa Kaboni",
                carbon_calculator_desc: "Kokotoa na sawazisha utoaji wa kaboni wa shehena yako",
                shipment_weight: "Uzito wa Shehena (MT)",
                distance: "Umbali (km)",
                transport_mode: "Njia ya Usafiri",
                sea_transport: "Usafiri wa Bahari",
                air_transport: "Usafiri wa Anga",
                road_transport: "Usafiri wa Barabarani",
                calculate_carbon: "Kokotoa Utoaji wa Kaboni",
                offset_carbon: "Sawazisha Utoaji wa Kaboni",
                logistics_estimator_title: "Kikadiriaji cha Gharama ya Vifaa vya Usafirishaji",
                logistics_estimator_desc: "Pata makadirio ya gharama ya papo hapo kwa mahitaji yako ya vifaa",
                origin_port: "Bandari ya Asili",
                destination_port: "Bandari ya Lengwa",
                container_size: "Ukubwa wa Kontena",
                port_dar: "Dar es Salaam",
                port_mombasa: "Mombasa",
                port_durban: "Durban",
                port_rotterdam: "Rotterdam",
                port_shanghai: "Shanghai",
                port_dubai: "Dubai",
                port_newyork: "New York",
                calculate_cost: "Kokotoa Gharama ya Jumla",
                document_timeline_title: "Mlango wa Usindikaji wa Nyaraka",
                document_timeline_desc: "Fuatilia nyaraka zako za usafirishaji kupitia mchakato wetu uliothibitishwa na blockchain",
                step_document: "Utayarishaji wa Nyaraka",
                step_verification: "Uthibitishaji",
                step_approval: "Idhini",
                step_blockchain: "Kurekodi kwa Blockchain",
                step_delivery: "Ufikishaji",
                status_preparing: "Hali: Utayarishaji wa Nyaraka Unaendelea",
                simulate_process: "Sawazisha Mchakato wa Nyaraka",
                verify_blockchain: "Thibitisha kwenye Blockchain"
            }
        };

        let currentLang = 'en';
        let map;
        let currentStep = 1;
        let selectedContainer = { size: 20, type: 'standard' };

        function changeLanguage(lang) {
            currentLang = lang;
            document.querySelectorAll('[data-lang]').forEach(element => {
                const key = element.getAttribute('data-lang');
                if (translations[lang][key]) {
                    if (element.tagName === 'INPUT' || element.tagName === 'OPTION') {
                        element.setAttribute('placeholder', translations[lang][key]);
                    } else {
                        element.textContent = translations[lang][key];
                    }
                }
            });
            
            updateMap();
            updateWizardContent();
            initPortCongestion(); // Refresh congestion data with new language
        }

        // Interactive Shipping Map
        function initMap() {
            map = L.map('shippingMap').setView([0, 30], 2);
            
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: 'Â© OpenStreetMap contributors'
            }).addTo(map);
            
            // Add Dar es Salaam marker
            const darMarker = L.marker([-6.7924, 39.2083]).addTo(map)
                .bindPopup('<b>Dar es Salaam Port</b><br>Origin Port')
                .openPopup();
            
            // Add major port markers
            const ports = [
                { name: 'Rotterdam', coords: [51.9225, 4.47917], congestion: 'low' },
                { name: 'Shanghai', coords: [31.23, 121.47], congestion: 'high' },
                { name: 'Dubai', coords: [25.27, 55.29], congestion: 'medium' },
                { name: 'Mombasa', coords: [-4.05, 39.67], congestion: 'low' },
                { name: 'Durban', coords: [-29.87, 31.04], congestion: 'medium' }
            ];
            
            ports.forEach(port => {
                const color = port.congestion === 'low' ? 'green' : 
                             port.congestion === 'medium' ? 'orange' : 'red';
                
                L.circleMarker(port.coords, {
                    color: color,
                    fillColor: color,
                    fillOpacity: 0.7,
                    radius: 10
                }).addTo(map).bindPopup(`<b>${port.name} Port</b><br>Congestion: ${port.congestion}`);
            });
            
            // Show default route
            showRoute('dar_to_rotterdam');
        }

        function showRoute(route) {
            // Clear existing routes
            map.eachLayer(layer => {
                if (layer instanceof L.Polyline) {
                    map.removeLayer(layer);
                }
            });
            
            // Update button states
            document.querySelectorAll('.route-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            const routes = {
                'dar_to_rotterdam': {
                    points: [[-6.7924, 39.2083], [0, 20], [20, 10], [40, 0], [51.9225, 4.47917]],
                    color: '#4caf50',
                    info: currentLang === 'en' 
                        ? 'Dar es Salaam â†’ Suez Canal â†’ Mediterranean â†’ Rotterdam'
                        : 'Dar es Salaam â†’ Mfereji wa Suez â†’ Mediterranean â†’ Rotterdam',
                    time: '28-35 days',
                    cost: '$2,800 - $3,500',
                    carbon: '180 kg COâ‚‚/MT'
                },
                'dar_to_shanghai': {
                    points: [[-6.7924, 39.2083], [0, 50], [20, 70], [31.23, 121.47]],
                    color: '#2196f3',
                    info: currentLang === 'en'
                        ? 'Dar es Salaam â†’ Indian Ocean â†’ Strait of Malacca â†’ Shanghai'
                        : 'Dar es Salaam â†’ Bahari ya Hindi â†’ Mlangobahari wa Malacca â†’ Shanghai',
                    time: '25-30 days',
                    cost: '$3,200 - $4,000',
                    carbon: '210 kg COâ‚‚/MT'
                },
                'dar_to_dubai': {
                    points: [[-6.7924, 39.2083], [0, 45], [25.27, 55.29]],
                    color: '#ff9800',
                    info: currentLang === 'en'
                        ? 'Dar es Salaam â†’ Arabian Sea â†’ Dubai'
                        : 'Dar es Salaam â†’ Bahari ya Arabia â†’ Dubai',
                    time: '12-18 days',
                    cost: '$1,800 - $2,200',
                    carbon: '95 kg COâ‚‚/MT'
                }
            };
            
            const selected = routes[route];
            const polyline = L.polyline(selected.points, { 
                color: selected.color, 
                weight: 4,
                opacity: 0.8,
                dashArray: '10, 10'
            }).addTo(map);
            
            // Update info cards
            document.getElementById('routeInfo').textContent = selected.info;
            document.getElementById('transitTime').textContent = selected.time;
            document.getElementById('estimatedCost').textContent = selected.cost;
            document.getElementById('carbonEmission').textContent = selected.carbon;
            
            // Fit map to route bounds
            map.fitBounds(polyline.getBounds());
        }

        function updateMap() {
            if (map) {
                // Update route info if a route is selected
                const activeButton = document.querySelector('.route-btn.active');
                if (activeButton) {
                    const route = activeButton.onclick.toString().match(/showRoute\('(.+)'\)/)?.[1];
                    if (route) showRoute(route);
                }
            }
        }

        // AI Documentation Wizard
        function updateWizardContent() {
            const steps = [
                {
                    title: currentLang === 'en' ? 'Step 1: Product Information' : 'Hatua ya 1: Taarifa za Bidhaa',
                    desc: currentLang === 'en' ? 'Enter details about the product you\'re exporting' : 'Ingiza maelezo kuhusu bidhaa unayosafirisha',
                    content: `
                        <input type="text" id="productName" placeholder="${currentLang === 'en' ? 'Product name...' : 'Jina la bidhaa...'}" style="width: 100%; padding: 15px; border: none; border-radius: 10px; margin-bottom: 15px; font-size: 1rem;">
                        <input type="number" id="productQuantity" placeholder="${currentLang === 'en' ? 'Quantity (MT)...' : 'Kiasi (MT)...'}" style="width: 100%; padding: 15px; border: none; border-radius: 10px; font-size: 1rem;">
                    `
                },
                {
                    title: currentLang === 'en' ? 'Step 2: Destination Details' : 'Hatua ya 2: Maelezo ya Lengwa',
                    desc: currentLang === 'en' ? 'Select destination country and port' : 'Chagua nchi ya lengwa na bandari',
                    content: `
                        <select id="destinationCountry" style="width: 100%; padding: 15px; border: none; border-radius: 10px; margin-bottom: 15px; font-size: 1rem;">
                            <option value="">${currentLang === 'en' ? 'Select country' : 'Chagua nchi'}</option>
                            <option value="germany">Germany</option>
                            <option value="china">China</option>
                            <option value="uae">UAE</option>
                            <option value="usa">USA</option>
                        </select>
                        <input type="text" id="destinationPort" placeholder="${currentLang === 'en' ? 'Destination port...' : 'Bandari ya lengwa...'}" style="width: 100%; padding: 15px; border: none; border-radius: 10px; font-size: 1rem;">
                    `
                },
                {
                    title: currentLang === 'en' ? 'Step 3: Required Documents' : 'Hatua ya 3: Nyaraka Zinazohitajika',
                    desc: currentLang === 'en' ? 'Our AI analyzes and lists required documents' : 'AI yetu inachambua na kuorodhesha nyaraka zinazohitajika',
                    content: `
                        <div style="background: rgba(255,255,255,0.2); padding: 25px; border-radius: 15px; backdrop-filter: blur(10px);">
                            <h4 style="margin-bottom: 20px; font-size: 1.3rem;">${currentLang === 'en' ? 'Documents needed:' : 'Nyaraka zinazohitajika:'}</h4>
                            <ul style="margin: 0; padding-left: 20px; font-size: 1.1rem;">
                                <li style="margin-bottom: 15px; padding-left: 10px;">${currentLang === 'en' ? 'Commercial Invoice' : 'Ankara ya Biashara'}</li>
                                <li style="margin-bottom: 15px; padding-left: 10px;">${currentLang === 'en' ? 'Packing List' : 'Orodha ya Kufunga'}</li>
                                <li style="margin-bottom: 15px; padding-left: 10px;">${currentLang === 'en' ? 'Certificate of Origin' : 'Cheti cha Asili'}</li>
                                <li style="padding-left: 10px;">${currentLang === 'en' ? 'Phytosanitary Certificate' : 'Cheti cha Afya ya Mimea'}</li>
                            </ul>
                        </div>
                    `
                },
                {
                    title: currentLang === 'en' ? 'Step 4: Generate Documents' : 'Hatua ya 4: Tunga Nyaraka',
                    desc: currentLang === 'en' ? 'AI generates filled documents for review' : 'AI inatunga nyaraka zilizojazwa kwa ukaguzi',
                    content: `
                        <div style="text-align: center; padding: 20px 0;">
                            <i class="fas fa-file-pdf" style="font-size: 5rem; margin-bottom: 25px; color: rgba(255,255,255,0.9);"></i>
                            <p style="font-size: 1.2rem; margin-bottom: 30px;">${currentLang === 'en' ? 'Documents generated successfully!' : 'Nyaraka zimetungwa kwa mafanikio!'}</p>
                            <button onclick="downloadDocuments()" style="background: white; color: #667eea; border: none; padding: 15px 40px; border-radius: 10px; cursor: pointer; font-size: 1.1rem; font-weight: 600; display: inline-flex; align-items: center; gap: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
                                <i class="fas fa-download"></i>
                                ${currentLang === 'en' ? 'Download Documents' : 'Pakua Nyaraka'}
                            </button>
                        </div>
                    `
                },
                {
                    title: currentLang === 'en' ? 'Step 5: Complete & Submit' : 'Hatua ya 5: Kamilisha na Wasilisha',
                    desc: currentLang === 'en' ? 'Submit documents for processing' : 'Wasilisha nyaraka kwa usindikaji',
                    content: `
                        <div style="text-align: center; padding: 20px 0;">
                            <i class="fas fa-check-circle" style="font-size: 5rem; margin-bottom: 25px; color: #4caf50;"></i>
                            <p style="font-size: 1.2rem; margin-bottom: 30px;">${currentLang === 'en' ? 'Ready to submit! Our team will process within 24 hours.' : 'Tayari kwa kusajiliwa! Timu yetu itasindika ndani ya masaa 24.'}</p>
                            <button onclick="submitDocuments()" style="background: #4caf50; color: white; border: none; padding: 18px 50px; border-radius: 10px; cursor: pointer; font-size: 1.2rem; font-weight: 600; display: inline-flex; align-items: center; gap: 10px; box-shadow: 0 10px 30px rgba(76,175,80,0.3);">
                                <i class="fas fa-paper-plane"></i>
                                ${currentLang === 'en' ? 'Submit for Processing' : 'Wasilisha kwa Usindikaji'}
                            </button>
                        </div>
                    `
                }
            ];

            if (currentStep <= steps.length) {
                const step = steps[currentStep - 1];
                const content = document.getElementById('wizardContent');
                content.innerHTML = `
                    <h3 style="font-size: 1.8rem; margin-bottom: 15px;">${step.title}</h3>
                    <p style="opacity: 0.9; font-size: 1.1rem; margin-bottom: 30px;">${step.desc}</p>
                    <div style="margin-top: 20px;">${step.content}</div>
                    <div style="margin-top: 40px; display: flex; justify-content: space-between;">
                        ${currentStep > 1 ? `
                            <button onclick="prevStep()" style="background: rgba(255,255,255,0.2); color: white; border: 2px solid white; padding: 12px 30px; border-radius: 10px; cursor: pointer; font-size: 1rem; font-weight: 600; display: inline-flex; align-items: center; gap: 10px;">
                                <i class="fas fa-arrow-left"></i>
                                ${currentLang === 'en' ? 'Previous' : 'Nyuma'}
                            </button>
                        ` : '<div></div>'}
                        
                        ${currentStep < steps.length ? `
                            <button onclick="nextStep()" style="background: var(--secondary); color: white; border: none; padding: 12px 30px; border-radius: 10px; cursor: pointer; font-size: 1rem; font-weight: 600; display: inline-flex; align-items: center; gap: 10px; box-shadow: 0 10px 30px rgba(255,152,0,0.3);">
                                ${currentLang === 'en' ? 'Next Step' : 'Hatua Inayofuata'} <i class="fas fa-arrow-right"></i>
                            </button>
                        ` : ''}
                    </div>
                `;
            }
        }

        function goToStep(step) {
            currentStep = step;
            updateWizardSteps();
            updateWizardContent();
        }

        function nextStep() {
            if (currentStep < 5) {
                currentStep++;
                updateWizardSteps();
                updateWizardContent();
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                currentStep--;
                updateWizardSteps();
                updateWizardContent();
            }
        }

        function updateWizardSteps() {
            const steps = document.querySelectorAll('.wizard-step');
            const progress = document.getElementById('wizardProgress');
            
            steps.forEach((step, index) => {
                step.classList.remove('active', 'completed');
                if (index + 1 < currentStep) {
                    step.classList.add('completed');
                } else if (index + 1 === currentStep) {
                    step.classList.add('active');
                }
            });
            
            progress.style.width = `${((currentStep - 1) / 4) * 100}%`;
        }

        function downloadDocuments() {
            alert(currentLang === 'en'
                ? "ðŸ“„ Downloading export documents package...\n\nIncludes:\nâ€¢ Commercial Invoice\nâ€¢ Packing List\nâ€¢ Certificate of Origin\nâ€¢ Bill of Lading\n\nFiles will be downloaded as a ZIP archive."
                : "ðŸ“„ Inapakua kifurushi cha nyaraka za usafirishaji...\n\nInajumuisha:\nâ€¢ Ankara ya Biashara\nâ€¢ Orodha ya Kufunga\nâ€¢ Cheti cha Asili\nâ€¢ Mkataba wa Shehena\n\nFaili zitapakuliwa kama kumbukumbu ya ZIP.");
        }

        function submitDocuments() {
            alert(currentLang === 'en'
                ? "âœ… Documents submitted successfully!\n\nOur team will process them within 24 hours.\nYou'll receive a tracking number via email.\n\nThank you for choosing FAMM ATL!"
                : "âœ… Nyaraka zimesajiliwa kwa mafanikio!\n\nTimu yetu itazisindika ndani ya masaa 24.\nUtapokea nambari ya ufuatiliaji kupitia barua pepe.\n\nAsante kwa kuchagua FAMM ATL!");
        }

        // Port Congestion Monitor
        function initPortCongestion() {
            const ports = [
                { name: 'Rotterdam', country: 'Netherlands', congestion: 35, status: 'low', delay: '0-2 days' },
                { name: 'Shanghai', country: 'China', congestion: 85, status: 'high', delay: '8-14 days' },
                { name: 'Singapore', country: 'Singapore', congestion: 60, status: 'medium', delay: '3-7 days' },
                { name: 'Dubai', country: 'UAE', congestion: 45, status: 'medium', delay: '3-7 days' },
                { name: 'Hamburg', country: 'Germany', congestion: 40, status: 'low', delay: '0-2 days' },
                { name: 'Los Angeles', country: 'USA', congestion: 75, status: 'high', delay: '8-14 days' },
                { name: 'Dar es Salaam', country: 'Tanzania', congestion: 30, status: 'low', delay: '0-2 days' },
                { name: 'Mombasa', country: 'Kenya', congestion: 55, status: 'medium', delay: '3-7 days' }
            ];

            const grid = document.getElementById('congestionGrid');
            grid.innerHTML = '';

            ports.forEach(port => {
                const cell = document.createElement('div');
                cell.className = `port-cell ${port.status}-congestion`;
                
                const statusText = currentLang === 'en' 
                    ? `${port.status.charAt(0).toUpperCase() + port.status.slice(1)} Congestion`
                    : port.status === 'low' ? 'Msongamano Mdogo' : 
                      port.status === 'medium' ? 'Msongamano wa Kati' : 'Msongamano Mwingi';
                
                cell.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                        <div>
                            <div style="font-weight: 700; font-size: 1.3rem; margin-bottom: 5px;">${port.name}</div>
                            <div style="font-size: 0.95rem; opacity: 0.8;">${port.country}</div>
                        </div>
                        <div style="background: ${port.status === 'low' ? '#e8f5e9' : port.status === 'medium' ? '#fff3e0' : '#ffebee'}; color: ${port.status === 'low' ? '#2e7d32' : port.status === 'medium' ? '#f57c00' : '#d32f2f'}; padding: 5px 12px; border-radius: 20px; font-size: 0.85rem; font-weight: 600;">
                            ${statusText}
                        </div>
                    </div>
                    <div class="congestion-level">
                        <span style="font-size: 2.8rem; font-weight: 800;">${port.congestion}%</span>
                        <span class="congestion-indicator" style="background: ${port.status === 'low' ? '#4caf50' : port.status === 'medium' ? '#ff9800' : '#f44336'};"></span>
                    </div>
                    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(0,0,0,0.1);">
                        <div style="font-size: 0.9rem; opacity: 0.8; margin-bottom: 5px;">${currentLang === 'en' ? 'Expected Delay' : 'Ucheleweshaji Unaotarajiwa'}</div>
                        <div style="font-weight: 600; font-size: 1.1rem;">${port.delay}</div>
                    </div>
                `;
                
                cell.addEventListener('click', () => {
                    const statusText = currentLang === 'en'
                        ? `Port of ${port.name}\n\nCongestion Level: ${port.congestion}%\nStatus: ${statusText}\nExpected Delay: ${port.delay}\n\nClick Refresh Data for latest updates.`
                        : `Bandari ya ${port.name}\n\nKiwango cha Msongamano: ${port.congestion}%\nHali: ${statusText}\nUcheleweshaji Unaotarajiwa: ${port.delay}\n\nBonyeza Sasisha Data kwa sasisho za hivi karibuni.`;
                    
                    alert(statusText);
                });
                
                grid.appendChild(cell);
            });

            updateLastUpdated();
        }

        function refreshCongestionData() {
            // Simulate data refresh with realistic fluctuations
            const cells = document.querySelectorAll('.port-cell');
            cells.forEach(cell => {
                const currentLevel = parseInt(cell.querySelector('.congestion-level span:first-child').textContent);
                const change = Math.floor(Math.random() * 20 - 10); // -10 to +10
                const newLevel = Math.max(10, Math.min(100, currentLevel + change));
                
                // Update congestion level
                cell.querySelector('.congestion-level span:first-child').textContent = `${newLevel}%`;
                
                // Update status
                let newStatus, newStatusText, newDelay, statusColor, statusBgColor;
                if (newLevel < 40) {
                    newStatus = 'low';
                    newStatusText = currentLang === 'en' ? 'Low Congestion' : 'Msongamano Mdogo';
                    newDelay = currentLang === 'en' ? '0-2 days' : 'siku 0-2';
                    statusColor = '#2e7d32';
                    statusBgColor = '#e8f5e9';
                } else if (newLevel < 70) {
                    newStatus = 'medium';
                    newStatusText = currentLang === 'en' ? 'Medium Congestion' : 'Msongamano wa Kati';
                    newDelay = currentLang === 'en' ? '3-7 days' : 'siku 3-7';
                    statusColor = '#f57c00';
                    statusBgColor = '#fff3e0';
                } else {
                    newStatus = 'high';
                    newStatusText = currentLang === 'en' ? 'High Congestion' : 'Msongamano Mwingi';
                    newDelay = currentLang === 'en' ? '8-14 days' : 'siku 8-14';
                    statusColor = '#d32f2f';
                    statusBgColor = '#ffebee';
                }
                
                // Update status indicator
                const statusDiv = cell.querySelector('div > div > div:last-child');
                statusDiv.textContent = newStatusText;
                statusDiv.style.background = statusBgColor;
                statusDiv.style.color = statusColor;
                
                // Update congestion indicator color
                cell.querySelector('.congestion-indicator').style.background = 
                    newStatus === 'low' ? '#4caf50' : newStatus === 'medium' ? '#ff9800' : '#f44336';
                
                // Update delay
                cell.querySelector('.port-cell > div:last-child > div:last-child').textContent = newDelay;
                
                // Update cell class
                cell.className = `port-cell ${newStatus}-congestion`;
            });
            
            updateLastUpdated();
            
            // Show success notification
            showNotification(currentLang === 'en'
                ? "Port congestion data refreshed successfully!"
                : "Data ya msongamano wa bandari imesasishwa kwa mafanikio!");
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: var(--primary);
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                z-index: 10000;
                animation: slideIn 0.5s ease-out;
                font-weight: 500;
            `;
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.5s ease-out';
                setTimeout(() => notification.remove(), 500);
            }, 3000);
        }

        function updateLastUpdated() {
            const now = new Date();
            const timeString = now.toLocaleTimeString(currentLang === 'en' ? 'en-US' : 'sw-TZ', { 
                hour: '2-digit', 
                minute: '2-digit',
                second: '2-digit'
            });
            document.getElementById('lastUpdated').textContent = timeString;
        }

        // Carbon Footprint Calculator
        function initCarbonCalculator() {
            const weightSlider = document.getElementById('weightSlider');
            const distanceSlider = document.getElementById('distanceSlider');
            
            weightSlider.addEventListener('input', function() {
                document.getElementById('weightValue').textContent = `${this.value} MT`;
            });
            
            distanceSlider.addEventListener('input', function() {
                document.getElementById('distanceValue').textContent = `${parseInt(this.value).toLocaleString()} km`;
            });
            
            calculateCarbonFootprint(); // Initial calculation
        }

        function calculateCarbonFootprint() {
            const weight = parseInt(document.getElementById('weightSlider').value);
            const distance = parseInt(document.getElementById('distanceSlider').value);
            const mode = document.getElementById('transportMode').value;
            
            // CO2 emissions in kg per ton-km
            const emissionFactors = {
                ship: 0.015,    // 15g CO2 per ton-km
                air: 0.500,     // 500g CO2 per ton-km
                road: 0.060     // 60g CO2 per ton-km
            };
            
            const co2 = weight * distance * emissionFactors[mode];
            const trees = co2 / 21.77; // Average CO2 absorbed by one tree per year
            
            // Update visualization
            const visualization = document.getElementById('carbonVisualization');
            visualization.innerHTML = '';
            
            const modes = [
                { name: currentLang === 'en' ? 'Sea' : 'Bahari', factor: 0.015, color: '#2196f3' },
                { name: currentLang === 'en' ? 'Air' : 'Anga', factor: 0.500, color: '#f44336' },
                { name: currentLang === 'en' ? 'Road' : 'Barabara', factor: 0.060, color: '#4caf50' }
            ];
            
            let maxCo2 = 0;
            const co2Values = modes.map(m => weight * distance * m.factor);
            maxCo2 = Math.max(...co2Values);
            
            modes.forEach(m => {
                const barCo2 = weight * distance * m.factor;
                const barHeight = (barCo2 / maxCo2) * 180; // Scale for visualization
                
                const bar = document.createElement('div');
                bar.className = 'carbon-bar';
                bar.style.height = `${barHeight}px`;
                bar.style.background = `linear-gradient(to top, ${m.color}, ${m.color}99)`;
                bar.setAttribute('data-co2', `${Math.round(barCo2)} kg COâ‚‚`);
                bar.setAttribute('data-mode', m.name);
                
                visualization.appendChild(bar);
            });
            
            // Update result
            const result = document.getElementById('carbonResult');
            result.innerHTML = currentLang === 'en'
                ? `Estimated COâ‚‚ Emissions: <strong style="color: #ffeb3b;">${Math.round(co2).toLocaleString()} kg</strong><br>
                   Equivalent to planting <strong>${Math.round(trees)} trees</strong> for one year`
                : `Utoaji wa COâ‚‚ unaokadiriwa: <strong style="color: #ffeb3b;">${Math.round(co2).toLocaleString()} kg</strong><br>
                   Sawa na kupanda <strong>${Math.round(trees)} miti</strong> kwa mwaka mmoja`;
        }

        function offsetCarbon() {
            const co2 = Math.round(parseInt(document.getElementById('weightSlider').value) * 
                                  parseInt(document.getElementById('distanceSlider').value) * 0.015);
            const cost = (co2 * 0.02).toFixed(2);
            const trees = Math.round(co2 / 21.77);
            
            alert(currentLang === 'en'
                ? `ðŸŒ± Carbon Offset Initiated!\n\nâ€¢ Offset Amount: ${co2.toLocaleString()} kg COâ‚‚\nâ€¢ Cost: $${cost}\nâ€¢ Trees to be Planted: ${trees}\nâ€¢ Location: Tanzanian Reforestation Project\n\nYour contribution supports sustainable forestry in Tanzania.`
                : `ðŸŒ± Usawazishaji wa Kaboni Umeanzishwa!\n\nâ€¢ Kiasi cha Kusawazisha: ${co2.toLocaleString()} kg COâ‚‚\nâ€¢ Gharama: $${cost}\nâ€¢ Miti Itakayopandwa: ${trees}\nâ€¢ Mahali: Mradi wa Upandaji Miti Tanzania\n\nMchango wako unaunga mkono misitu endelevu Tanzania.`);
        }

        // Logistics Cost Estimator
        function selectContainer(size, type = 'standard') {
            selectedContainer = { size, type };
            
            // Update button styles
            document.querySelectorAll('.container-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.style.background = '#666';
            });
            event.target.classList.add('active');
            event.target.style.background = '#4caf50';
            
            calculateLogisticsCost(); // Recalculate
        }

        function calculateLogisticsCost() {
            const origin = document.getElementById('originPort').value;
            const destination = document.getElementById('destinationPort').value;
            
            // Base costs for different routes
            const baseCosts = {
                'dar_rotterdam': { sea: 2800, air: 8500, road: 0 },
                'dar_shanghai': { sea: 3200, air: 9200, road: 0 },
                'dar_dubai': { sea: 1800, air: 5200, road: 0 },
                'dar_newyork': { sea: 3500, air: 9500, road: 0 },
                'mombasa_rotterdam': { sea: 2600, air: 8300, road: 0 },
                'mombasa_shanghai': { sea: 3100, air: 9000, road: 0 },
                'durban_rotterdam': { sea: 2400, air: 8100, road: 0 },
                'durban_shanghai': { sea: 2900, air: 8800, road: 0 }
            };
            
            const key = `${origin}_${destination}`;
            const baseCost = baseCosts[key]?.sea || 2500;
            
            // Adjust for container size
            let containerMultiplier = 1;
            if (selectedContainer.size === 40) containerMultiplier = 1.8;
            if (selectedContainer.size === 40 && selectedContainer.type === 'hc') containerMultiplier = 2.0;
            
            // Calculate costs
            const shippingCost = baseCost * containerMultiplier;
            const documentationCost = 350;
            const insuranceCost = shippingCost * 0.02;
            const customsCost = shippingCost * 0.05;
            const handlingCost = shippingCost * 0.03;
            const totalCost = shippingCost + documentationCost + insuranceCost + customsCost + handlingCost;
            
            // Update results
            const result = document.getElementById('estimatorResult');
            result.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 25px; margin-bottom: 30px;">
                    <div>
                        <div style="font-size: 0.95rem; opacity: 0.9; margin-bottom: 8px;">${currentLang === 'en' ? 'Shipping Cost' : 'Gharama ya Usafirishaji'}</div>
                        <div style="font-size: 1.8rem; font-weight: 700;">$${shippingCost.toLocaleString()}</div>
                    </div>
                    <div>
                        <div style="font-size: 0.95rem; opacity: 0.9; margin-bottom: 8px;">${currentLang === 'en' ? 'Documentation' : 'Nyaraka'}</div>
                        <div style="font-size: 1.8rem; font-weight: 700;">$${documentationCost.toLocaleString()}</div>
                    </div>
                    <div>
                        <div style="font-size: 0.95rem; opacity: 0.9; margin-bottom: 8px;">${currentLang === 'en' ? 'Insurance' : 'Bima'}</div>
                        <div style="font-size: 1.8rem; font-weight: 700;">$${insuranceCost.toLocaleString()}</div>
                    </div>
                    <div>
                        <div style="font-size: 0.95rem; opacity: 0.9; margin-bottom: 8px;">${currentLang === 'en' ? 'Customs & Duties' : 'Forodha na Usuru'}</div>
                        <div style="font-size: 1.8rem; font-weight: 700;">$${customsCost.toLocaleString()}</div>
                    </div>
                </div>
                <div style="background: rgba(255,255,255,0.1); padding: 30px; border-radius: 15px; text-align: center;">
                    <div style="font-size: 1rem; opacity: 0.9; margin-bottom: 10px; letter-spacing: 1px;">${currentLang === 'en' ? 'TOTAL ESTIMATED COST' : 'GHARAMA YA JUMLA ILIYOKADIRIWA'}</div>
                    <div style="font-size: 3.5rem; font-weight: 800; color: var(--secondary); line-height: 1.2;">$${totalCost.toLocaleString()}</div>
                    <div style="margin-top: 20px; font-size: 0.95rem; opacity: 0.9;">
                        ${currentLang === 'en' 
                            ? '* Estimate valid for 7 days. Contact our team for exact quotation.' 
                            : '* Kadirio halali kwa siku 7. Wasiliana na timu yetu kwa nakala kamili.'}
                    </div>
                </div>
            `;
        }

        // Document Processing Timeline
        function simulateDocumentProcess() {
            const steps = document.querySelectorAll('.step-circle');
            const status = document.getElementById('documentStatus');
            
            let currentIndex = 0;
            
            const processInterval = setInterval(() => {
                if (currentIndex > 0) {
                    steps[currentIndex - 1].classList.remove('active');
                    steps[currentIndex - 1].classList.add('completed');
                }
                
                if (currentIndex < steps.length) {
                    steps[currentIndex].classList.add('active');
                    
                    const statusMessages = currentLang === 'en' ? [
                        "Document Preparation in Progress",
                        "Verifying document authenticity",
                        "Awaiting regulatory approval",
                        "Recording on blockchain network",
                        "Documents delivered successfully!"
                    ] : [
                        "Utayarishaji wa Nyaraka Unaendelea",
                        "Kuthibitisha ukweli wa nyaraka",
                        "Ngoja idhini ya udhibiti",
                        "Kurekodi kwenye mtandao wa blockchain",
                        "Nyaraka zimewasilishwa kwa mafanikio!"
                    ];
                    
                    status.innerHTML = currentLang === 'en'
                        ? `Status: <strong>${statusMessages[currentIndex]}</strong>`
                        : `Hali: <strong>${statusMessages[currentIndex]}</strong>`;
                    
                    currentIndex++;
                } else {
                    clearInterval(processInterval);
                    setTimeout(() => {
                        showNotification(currentLang === 'en'
                            ? "âœ… Document Processing Complete!"
                            : "âœ… Usindikaji wa Nyaraka Umekamilika!");
                    }, 500);
                }
            }, 1500);
        }

        function verifyOnBlockchain() {
            const txHash = '0x' + Array(64).fill(0).map(() => 
                Math.floor(Math.random() * 16).toString(16)).join('');
            const blockNumber = Math.floor(Math.random() * 10000) + 15000000;
            
            const verificationMessage = currentLang === 'en'
                ? `ðŸ”— Blockchain Verification\n\nTransaction Hash: ${txHash}\nStatus: âœ… Verified & Confirmed\nBlock: #${blockNumber}\nTimestamp: ${new Date().toLocaleString()}\nNetwork: Ethereum Mainnet\n\nThis document is permanently and immutably recorded on the blockchain.`
                : `ðŸ”— Uthibitishaji wa Blockchain\n\nHash ya Muamala: ${txHash}\nHali: âœ… Imethibitishwa na Imethibitishwa\nBlock: #${blockNumber}\nMuda: ${new Date().toLocaleString()}\nMtandao: Ethereum Mainnet\n\nHati hii imerekodiwa kwa kudumu na haibadilishi kwenye blockchain.`;
            
            alert(verificationMessage);
        }

        // Initialize everything
        document.addEventListener('DOMContentLoaded', () => {
            changeLanguage('en');
            initMap();
            initPortCongestion();
            initCarbonCalculator();
            calculateLogisticsCost(); // Initial calculation
            
            // Auto-refresh congestion data every 2 minutes
            setInterval(refreshCongestionData, 120000);
            
            // Simulate live vessel movements on map
            setInterval(() => {
                if (Math.random() > 0.7 && map) {
                    // Add a temporary vessel marker
                    const lat = -30 + Math.random() * 60;
                    const lng = -30 + Math.random() * 60;
                    
                    const vessel = L.circleMarker([lat, lng], {
                        color: '#2196f3',
                        fillColor: '#2196f3',
                        fillOpacity: 0.8,
                        radius: 6
                    }).addTo(map);
                    
                    vessel.bindPopup(currentLang === 'en'
                        ? 'ðŸ›³ï¸ Live Vessel Tracking<br>Speed: 18 knots<br>Destination: Rotterdam<br>ETA: 5 days'
                        : 'ðŸ›³ï¸ Ufuatiliaji wa Meli ya Wakati Halisi<br>Kasi: knots 18<br>Lengwa: Rotterdam<br>Muda wa Kufika: siku 5');
                    
                    setTimeout(() => {
                        if (map && vessel) map.removeLayer(vessel);
                    }, 10000);
                }
            }, 5000);
            
            // Add CSS for notifications
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes slideOut {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(100%); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>
